---
# ====== Page: Cadastro ======================================
id: 3
identification: 
  name: Cadastro
  alias: CADASTRO
  title: Cadastro

appearance: 
  page-mode: Modal Dialog
  dialog-template: Drawer
  template-options: 
  - '#DEFAULT#'
  - js-dialog-class-t-Drawer--pullOutEnd

dialog: 
  chained: false
  resizable: true

navigation-menu: 
  override-user-interface-level: false

navigation: 
  cursor-focus: Do not focus cursor
  warn-on-unsaved-changes: true

javascript: 
  function-and-global-variable-declaration: |
    function deleteMember(seqId) {
            apex.server.process(
            "DELETE_COLLECTION_MEMBER",
            { x01: seqId },
            {
                dataType: "text", // <--- treat response as plain text
                success: function() {
                    apex.region("staticCollectionData").refresh();
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    alert("Error: " + errorThrown);
                }
            }
        );
    };
    

security: 
  authentication: Page Requires Authentication
  deep-linking: Application Default
  page-access-protection: Arguments Must Have Checksum
  form-auto-complete: Off
  browser-cache: Application Default

session-management: 
  rejoin-sessions: Application Default

advanced: 
  enable-duplicate-page-submissions: Yes - Enable page to be re-posted
  reload-on-submit: Only for Success

server-cache: 
  caching: Disabled

regions: 
- # ====== Region: Cadastro ====================================
  id: 8053254498852461
  identification: 
    name: Cadastro
    type: Form

  source: 
    location: Local Database
    type: Table / View
    table-owner: Parsing Schema
    table-name: PATIENT
    include-rowid-column: false

  layout: 
    sequence: 10
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Blank with Attributes
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    edit: 
      enabled: true
      allowed-operations: 
      - Add Row
      - Update Row
      - Delete Row
      lost-update-type: Row Values

- # ====== Region: Buttons =====================================
  id: 8062038200852474
  identification: 
    name: Buttons
    type: Static Content

  layout: 
    sequence: 20
    parent-region: No Parent
    slot: REGION_POSITION_03
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Buttons Container
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: Text (escape special characters)
      show-line-breaks: true

- # ====== Region: Telefone ====================================
  id: 8091535085062104
  identification: 
    name: Telefone
    type: Static Content

  layout: 
    sequence: 50
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-nosize
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: staticTPhone
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Telefones ===================================
  id: 8092586397062114
  identification: 
    name: Telefones
    type: Classic Report

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      select seq_id, c001, c002, c003, c004, c005, '<span class="fa fa-trash" aria-hidden="true" style="color: tomato;"></span>
      ' as Excluir
      from apex_collections
      where collection_name = 'PHONE_NUMBERS'

  order-by: 
    type: None

  layout: 
    sequence: 40
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Blank with Attributes
    template-options: 
    - '#DEFAULT#'
    - t-Form--stretchInputs
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: staticCollectionData
    region-display-selector: false
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    layout: 
      number-of-rows-type: Static Value
      number-of-rows: 15

    appearance: 
      template-type: Theme
      template: Standard
      template-options: 
      - '#DEFAULT#'
      - t-Report--altRowsDefault
      - t-Report--rowHighlight

    pagination: 
      type: Row Ranges X to Y (with next and previous links)
      display-position: Bottom - Right
      partial-page-refresh: true

    performance: 
      lazy-loading: false

    break-formatting: 
      break-columns: No Break

    advanced: 
      strip-html: false
      sort-nulls: Last

    heading: 
      type: Custom Headings

    download: 
      csv-export-enabled: false

    printing: 
      enabled: false

  columns: 
  - # ====== Column: C001 ========================================
    id: 8092602249062115
    identification: 
      column-name: C001
      type: Plain Text

    heading: 
      heading: Código do país
      alignment: center

    layout: 
      sequence: 10
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: C002 ========================================
    id: 8092799491062116
    identification: 
      column-name: C002
      type: Plain Text

    heading: 
      heading: Código ddd
      alignment: center

    layout: 
      sequence: 20
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: C003 ========================================
    id: 8092864312062117
    identification: 
      column-name: C003
      type: Plain Text

    heading: 
      heading: Número
      alignment: start

    layout: 
      sequence: 30
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: C004 ========================================
    id: 8092912094062118
    identification: 
      column-name: C004
      type: Plain Text (based on List of Values)

    heading: 
      heading: Classificação
      alignment: start

    layout: 
      sequence: 40
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    list-of-values: 
      type: Shared Component
      list-of-values: LIST_TYPE_PHONE # 8129006645649327

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: C005 ========================================
    id: 8093010384062119
    identification: 
      column-name: C005
      type: Plain Text (based on List of Values)

    heading: 
      heading: Telefone principal
      alignment: start

    layout: 
      sequence: 50
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    list-of-values: 
      type: Shared Component
      list-of-values: FROM_TO_YES_NO # 8130881584662555

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: EXCLUIR =====================================
    id: 8093256894062121
    identification: 
      column-name: EXCLUIR
      type: Link

    heading: 
      heading: Excluir
      alignment: center

    layout: 
      sequence: 80
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    link: 
      target: "javascript: deleteMember('#SEQ_ID#')"
      link-text: '#EXCLUIR#'

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: false

  - # ====== Column: SEQ_ID ======================================
    id: 8093441997062123
    identification: 
      column-name: SEQ_ID
      type: Hidden

    layout: 
      sequence: 70

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

- # ====== Region: space =======================================
  id: 8093741780062126
  identification: 
    name: space
    type: Static Content

  source: 
    html-code: |
      <div>
          <br>
      </div>
      

  layout: 
    sequence: 20
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Blank with Attributes
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Phone paciente ==============================
  id: 16193821655198543
  identification: 
    name: Phone paciente
    type: Form

  source: 
    location: Local Database
    type: Table / View
    table-owner: Parsing Schema
    table-name: PATIENT_PHONE
    include-rowid-column: false

  layout: 
    sequence: 30
    parent-region: Telefone # 8091535085062104
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Blank with Attributes
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    edit: 
      enabled: true
      allowed-operations: 
      - Add Row
      - Update Row
      - Delete Row
      lost-update-type: Row Values

page-items: 
- # ====== Page Item: P3_NUM_SEQ_PTT ===========================
  id: 8053551786852462
  identification: 
    name: P3_NUM_SEQ_PTT
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 10
    region: Cadastro # 8053254498852461
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: NUM_SEQ_PTT
    data-type: NUMBER
    query-only: false
    primary-key: true

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Checksum Required - Session Level
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_FIRST_NAME_PTT ========================
  id: 8053917527852466
  identification: 
    name: P3_FIRST_NAME_PTT
    type: Text Field

  label: 
    label: Nome
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 20
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Required - Floating
    template-options: 
    - '#DEFAULT#'
    width: 32

  validation: 
    value-required: true
    maximum-length: 32

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: FIRST_NAME_PTT
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_LAST_NAME_PTT =========================
  id: 8054302109852467
  identification: 
    name: P3_LAST_NAME_PTT
    type: Text Field

  label: 
    label: Sobrenome
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 30
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Required - Floating
    template-options: 
    - '#DEFAULT#'
    width: 60

  validation: 
    value-required: true
    maximum-length: 256

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: LAST_NAME_PTT
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_GENDER_PTT ============================
  id: 8054711410852468
  identification: 
    name: P3_GENDER_PTT
    type: Radio Group

  label: 
    label: Genero
    alignment: Left

  settings: 
    number-of-columns: 1
    page-action-on-selection: None

  layout: 
    sequence: 40
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Required - Floating
    template-options: 
    - '#DEFAULT#'

  validation: 
    value-required: true

  list-of-values: 
    type: Shared Component
    list-of-values: LIST_GENDER # 8139789509792896
    display-extra-values: false
    display-null-value: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: GENDER_PTT
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    escape-special-characters: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_DATE_OF_BIRTH_PTT =====================
  id: 8055184624852468
  identification: 
    name: P3_DATE_OF_BIRTH_PTT
    type: Date Picker

  label: 
    label: Data de nascimento
    alignment: Left

  settings: 
    show-time: false
    display-as: Popup
    minimum-date: None
    maximum-date: None
    multiple-months: No
    use-defaults: true

  layout: 
    sequence: 50
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Required - Floating
    template-options: 
    - '#DEFAULT#'
    width: 32

  validation: 
    value-required: true
    maximum-length: 255

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: DATE_OF_BIRTH_PTT
    data-type: DATE
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_SSN_PTT ===============================
  id: 8055514847852469
  identification: 
    name: P3_SSN_PTT
    type: Text Field

  label: 
    label: CPF
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 60
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    width: 32

  validation: 
    value-required: false
    maximum-length: 16

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: SSN_PTT
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_BLOOD_TYPE_PTT ========================
  id: 8055969246852469
  identification: 
    name: P3_BLOOD_TYPE_PTT
    type: Select List

  label: 
    label: Tipo sanguíneo
    alignment: Left

  settings: 
    page-action-on-selection: None

  multiple-values: 
    type: No

  layout: 
    sequence: 70
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    height: 1

  validation: 
    value-required: false

  list-of-values: 
    type: Shared Component
    list-of-values: LIST_BLOOD_TYPE # 8141330204809659
    display-extra-values: false
    display-null-value: true

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: BLOOD_TYPE_PTT
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_ALLERGIES_PTT =========================
  id: 8056373952852470
  identification: 
    name: P3_ALLERGIES_PTT
    type: Textarea

  label: 
    label: Alergias
    alignment: Left

  settings: 
    resizable: true
    auto-height: false
    character-counter: false
    trim-spaces: Leading and Trailing

  layout: 
    sequence: 80
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    width: 60
    height: 4

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: ALLERGIES_PTT
    data-type: CLOB
    query-only: false
    primary-key: false

  session-state: 
    data-type: CLOB
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_MEDICAL_CONDITIONS_PTT ================
  id: 8056760252852470
  identification: 
    name: P3_MEDICAL_CONDITIONS_PTT
    type: Textarea

  label: 
    label: Condições clínicas
    alignment: Left

  settings: 
    resizable: true
    auto-height: false
    character-counter: false
    trim-spaces: Leading and Trailing

  layout: 
    sequence: 90
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    width: 60
    height: 4

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: MEDICAL_CONDITIONS_PTT
    data-type: CLOB
    query-only: false
    primary-key: false

  session-state: 
    data-type: CLOB
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_CREATED_AT_PTT ========================
  id: 8057177731852470
  identification: 
    name: P3_CREATED_AT_PTT
    type: Date Picker

  label: 
    label: Data de inclusão
    alignment: Left

  settings: 
    show-time: false
    display-as: Popup
    minimum-date: None
    maximum-date: None
    multiple-months: No
    use-defaults: true

  layout: 
    sequence: 100
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    width: 32

  validation: 
    value-required: false
    maximum-length: 255

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: CREATED_AT_PTT
    data-type: TIMESTAMP
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_UPDATED_AT_PTT ========================
  id: 8057996031852472
  identification: 
    name: P3_UPDATED_AT_PTT
    type: Date Picker

  label: 
    label: Data de alteração
    alignment: Left

  settings: 
    show-time: false
    display-as: Popup
    minimum-date: None
    maximum-date: None
    multiple-months: No
    use-defaults: true

  layout: 
    sequence: 110
    region: Cadastro # 8053254498852461
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    width: 32

  validation: 
    value-required: false
    maximum-length: 255

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Cadastro # 8053254498852461
    column: UPDATED_AT_PTT
    data-type: TIMESTAMP
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_NUM_SEQ_PPH ===========================
  id: 16194400319198550
  identification: 
    name: P3_NUM_SEQ_PPH
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 10
    region: Phone paciente # 16193821655198543
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Phone paciente # 16193821655198543
    column: NUM_SEQ_PPH
    data-type: NUMBER
    query-only: false
    primary-key: true

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Checksum Required - Session Level
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_NUM_SEQ_PTT_PPH =======================
  id: 16194833288198551
  identification: 
    name: P3_NUM_SEQ_PTT_PPH
    type: Hidden

  settings: 
    value-protected: false

  layout: 
    sequence: 20
    region: Phone paciente # 16193821655198543
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Phone paciente # 16193821655198543
    column: NUM_SEQ_PTT_PPH
    data-type: NUMBER
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_COUNTRY_COD_PPH =======================
  id: 16195530938198555
  identification: 
    name: P3_COUNTRY_COD_PPH
    type: Text Field

  label: 
    label: Código do país
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 30
    region: Phone paciente # 16193821655198543
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    width: 8

  validation: 
    value-required: false
    maximum-length: 8

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Phone paciente # 16193821655198543
    column: COUNTRY_COD_PPH
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  default: 
    type: Item
    item: AI_CONTRY_AREA

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_AREA_CODE_PPH =========================
  id: 16195906395198555
  identification: 
    name: P3_AREA_CODE_PPH
    type: Text Field

  label: 
    label: <span title="Código DDD">DDD</span>
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 40
    region: Phone paciente # 16193821655198543
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 3
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    width: 4

  validation: 
    value-required: true
    maximum-length: 4

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Phone paciente # 16193821655198543
    column: AREA_CODE_PPH
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_PHONE_TYPE_PPH ========================
  id: 16196292525198555
  identification: 
    name: P3_PHONE_TYPE_PPH
    type: Radio Group

  label: 
    label: Classe
    alignment: Left

  settings: 
    number-of-columns: 3
    page-action-on-selection: None

  layout: 
    sequence: 60
    region: Phone paciente # 16193821655198543
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Required - Floating
    template-options: 
    - '#DEFAULT#'

  validation: 
    value-required: true

  list-of-values: 
    type: Shared Component
    list-of-values: LIST_TYPE_PHONE # 8129006645649327
    display-extra-values: false
    display-null-value: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Phone paciente # 16193821655198543
    column: PHONE_TYPE_PPH
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    escape-special-characters: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_PHONE_NUMBER_PPH ======================
  id: 16196702610198555
  identification: 
    name: P3_PHONE_NUMBER_PPH
    type: Text Field

  label: 
    label: Número de telefone
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 50
    region: Phone paciente # 16193821655198543
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    width: 32

  validation: 
    value-required: true
    maximum-length: 16

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Phone paciente # 16193821655198543
    column: PHONE_NUMBER_PPH
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P3_IS_PRIMARY_PPH ========================
  id: 16197160307198555
  identification: 
    name: P3_IS_PRIMARY_PPH
    type: Switch

  label: 
    label: Telefone principal
    alignment: Left

  settings: 
    use-defaults: true

  layout: 
    sequence: 80
    region: Phone paciente # 16193821655198543
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'

  validation: 
    value-required: true

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Phone paciente # 16193821655198543
    column: IS_PRIMARY_PPH
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

buttons: 
- # ====== Button: CANCEL ======================================
  id: 8062450167852475
  identification: 
    button-name: CANCEL
    label: Cancel

  layout: 
    sequence: 10
    region: Buttons # 8062038200852474
    slot: CLOSE
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: true

- # ====== Button: DELETE ======================================
  id: 8063775058852477
  identification: 
    button-name: DELETE
    label: Delete

  layout: 
    sequence: 20
    region: Buttons # 8062038200852474
    slot: DELETE
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'

  behavior: 
    action: Submit Page
    execute-validations: false
    show-processing: false
    warn-on-unsaved-changes: Do Not Check
    database-action: SQL DELETE action

  confirmation: 
    message: '&APP_TEXT$DELETE_MSG!RAW.'
    style: Danger

  server-side-condition: 
    type: Item is NOT NULL
    item: P3_NUM_SEQ_PTT

- # ====== Button: SAVE ========================================
  id: 8064175162852477
  identification: 
    button-name: SAVE
    label: Apply Changes

  layout: 
    sequence: 30
    region: Buttons # 8062038200852474
    slot: NEXT
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Text
    hot: true
    template-options: 
    - '#DEFAULT#'

  behavior: 
    action: Submit Page
    execute-validations: true
    show-processing: false
    warn-on-unsaved-changes: Do Not Check
    database-action: SQL UPDATE action

  server-side-condition: 
    type: Item is NOT NULL
    item: P3_NUM_SEQ_PTT

- # ====== Button: CREATE ======================================
  id: 8064572295852477
  identification: 
    button-name: CREATE
    label: Create

  layout: 
    sequence: 40
    region: Buttons # 8062038200852474
    slot: NEXT
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Text
    hot: true
    template-options: 
    - '#DEFAULT#'

  behavior: 
    action: Submit Page
    execute-validations: true
    show-processing: false
    warn-on-unsaved-changes: Do Not Check
    database-action: SQL INSERT action

  server-side-condition: 
    type: Item is NULL
    item: P3_NUM_SEQ_PTT

- # ====== Button: TELEFONE ====================================
  id: 8091282192062101
  identification: 
    button-name: TELEFONE
    label: <span class="fa fa-plus" aria-hidden="true" title="Clique para adicionar um número de telefone"></span>

  layout: 
    sequence: 120
    region: Cadastro # 8053254498852461
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text with Icon
    hot: true
    template-options: 
    - '#DEFAULT#'
    - t-Button--iconRight
    icon: fa-phone

  behavior: 
    action: Redirect to URL
    target: "javascript:openModal('staticTPhone')"
    execute-validations: true
    warn-on-unsaved-changes: Do Not Check

- # ====== Button: OK ==========================================
  id: 8092177134062110
  identification: 
    button-name: OK
    label: Ok

  layout: 
    sequence: 90
    region: Phone paciente # 16193821655198543
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: true

dynamic-actions: 
- # ====== Dynamic Action: Cancel Dialog =======================
  id: 8062585964852475
  identification: 
    name: Cancel Dialog

  execution: 
    sequence: 10
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: CANCEL # 8062450167852475

  actions: 
  - # ====== Action: Cancel Dialog ===============================
    id: 8063296503852476
    identification: 
      action: Cancel Dialog

    execution: 
      sequence: 10
      event: Cancel Dialog # 8062585964852475
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: AddCollectMember ====================
  id: 8092291225062111
  identification: 
    name: AddCollectMember

  execution: 
    sequence: 20
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: OK # 8092177134062110

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 8092388856062112
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            -- Add a single row
            APEX_COLLECTION.ADD_MEMBER(
                p_collection_name => 'PHONE_NUMBERS',
                p_c001           => :P3_COUNTRY_COD_PPH,   
                p_c002           => :P3_AREA_CODE_PPH,   
                p_c003           => :P3_PHONE_NUMBER_PPH,  
                p_c004           => :P3_PHONE_TYPE_PPH,
                p_c005           => :P3_IS_PRIMARY_PPH
            );
        
           
        END;
        
      items-to-submit: 
      - P3_COUNTRY_COD_PPH
      - P3_AREA_CODE_PPH
      - P3_PHONE_TYPE_PPH
      - P3_PHONE_NUMBER_PPH
      - P3_IS_PRIMARY_PPH

    execution: 
      sequence: 10
      event: AddCollectMember # 8092291225062111
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Close Region ================================
    id: 8092465636062113
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Telefone # 8091535085062104

    execution: 
      sequence: 20
      event: AddCollectMember # 8092291225062111
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Refresh =====================================
    id: 8093132221062120
    identification: 
      action: Refresh

    settings: 
      maintain-pagination: false

    affected-elements: 
      selection-type: Region
      region: Telefones # 8092586397062114

    execution: 
      sequence: 30
      event: AddCollectMember # 8092291225062111
      fire-when-event-result-is: True
      fire-on-initialization: false

validations: 
- # ====== Validation: P3_CREATED_AT_PTT must be timestamp =====
  id: 8057655191852471
  identification: 
    name: P3_CREATED_AT_PTT must be timestamp

  execution: 
    sequence: 90

  validation: 
    type: Item is a valid timestamp
    item: P3_CREATED_AT_PTT
    always-execute: false

  error: 
    error-message: '#LABEL# must be a valid timestamp.'
    display-location: Inline with Field and in Notification
    associated-item: P3_CREATED_AT_PTT # 8057177731852470

- # ====== Validation: P3_UPDATED_AT_PTT must be timestamp =====
  id: 8058484902852472
  identification: 
    name: P3_UPDATED_AT_PTT must be timestamp

  execution: 
    sequence: 100

  validation: 
    type: Item is a valid timestamp
    item: P3_UPDATED_AT_PTT
    always-execute: false

  error: 
    error-message: '#LABEL# must be a valid timestamp.'
    display-location: Inline with Field and in Notification
    associated-item: P3_UPDATED_AT_PTT # 8057996031852472

computations: 
- # ====== Computation: P3_COUNTRY_COD_PPH =====================
  id: 8091644870062105
  identification: 
    item-name: P3_COUNTRY_COD_PPH

  execution: 
    sequence: 10
    point: Before Regions

  computation: 
    type: Item
    item-name: AI_CONTRY_AREA

processes: 
- # ====== Process: Initialize form Cadastro ===================
  id: 8064972050852477
  identification: 
    name: Initialize form Cadastro
    type: Form - Initialization
    execution-chain: None
    form-region: Cadastro # 8053254498852461

  execution: 
    sequence: 10
    point: Before Header
    run-process: Once Per Page Visit (default)

- # ====== Process: Process form Cadastro ======================
  id: 8065383534852477
  identification: 
    name: Process form Cadastro
    type: Form - Automatic Row Processing (DML)
    execution-chain: None
    form-region: Cadastro # 8053254498852461

  settings: 
    target-type: Region Source
    prevent-lost-updates: true
    lock-row: Yes
    return-primary-key(s)-after-insert: true

  execution: 
    sequence: 10
    point: Processing
    run-process: Once Per Page Visit (default)

  error: 
    display-location: Inline in Notification

- # ====== Process: Close Dialog ===============================
  id: 8065729468852477
  identification: 
    name: Close Dialog
    type: Close Dialog
    execution-chain: None

  settings: 
    show-success-messages: true

  execution: 
    sequence: 50
    point: Processing
    run-process: Once Per Page Visit (default)

  error: 
    display-location: Inline in Notification

  server-side-condition: 
    type: Request is contained in Value
    value: CREATE,SAVE,DELETE

- # ====== Process: DELETE_COLLECTION_MEMBER ===================
  id: 8093333108062122
  identification: 
    name: DELETE_COLLECTION_MEMBER
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          l_seq NUMBER := TO_NUMBER(APEX_APPLICATION.G_X01);
      BEGIN
          APEX_COLLECTION.DELETE_MEMBER(
              p_collection_name => 'PHONE_NUMBERS',
              p_seq             => l_seq
          );
      END;
      

  execution: 
    sequence: 10
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

